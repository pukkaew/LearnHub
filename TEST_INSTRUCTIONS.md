# üß™ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Course Creation

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 17 ‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô 2025
**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö

---

## üìã ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### 1. ‡πÄ‡∏õ‡∏¥‡∏î Browser ‡πÅ‡∏•‡∏∞ Clear Cache
- ‡∏Å‡∏î `Ctrl + Shift + Delete` (Chrome/Edge)
- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "Cached images and files"
- Clear data
- **‡∏´‡∏£‡∏∑‡∏≠** ‡∏Å‡∏î `Ctrl + Shift + R` ‡πÄ‡∏û‡∏∑‡πà‡∏≠ Hard Refresh

### 2. ‡πÄ‡∏õ‡∏¥‡∏î Developer Console
- ‡∏Å‡∏î `F12` ‡∏´‡∏£‡∏∑‡∏≠ `Ctrl + Shift + I`
- ‡πÑ‡∏õ‡∏ó‡∏µ‡πà tab **Console**
- ‡∏Ñ‡∏≠‡∏¢‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ `üîç CLIENT-SIDE DATA COLLECTED:`

### 3. ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á Course
- ‡πÑ‡∏õ‡∏ó‡∏µ‡πà: http://localhost:3000/courses/create
- ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

### 4. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç!)

**Step 1: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô**
- ‚úÖ ‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£
- ‚úÖ ‡∏£‡∏´‡∏±‡∏™‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£ (course_code)
- ‚úÖ ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà
- ‚úÖ ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å
- ‚úÖ **‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£** (‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö/‡πÄ‡∏•‡∏∑‡∏≠‡∏Å/‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
- ‚úÖ **‡∏†‡∏≤‡∏©‡∏≤** (‡πÑ‡∏ó‡∏¢/‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©/‡πÑ‡∏ó‡∏¢-‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)

**Step 2: ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£**
- ‚úÖ ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£ (50+ ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)
- ‚úÖ **‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ 3+ ‡∏Ç‡πâ‡∏≠**
- ‚úÖ **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ 1+ ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á**
- ‚úÖ **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ú‡∏ô‡∏Å‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ 1+ ‡πÅ‡∏ú‡∏ô‡∏Å**

**Step 3: ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡∏∑‡πà‡∏≠**
- ‚úÖ ‡∏£‡∏π‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏Å
- ‚úÖ **‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 1+ ‡∏ö‡∏ó**
  - ‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏ó
  - ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤
  - ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
  - **‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠** (YouTube/Vimeo URL)

**Step 4: ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•**
- ‚úÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô
- ‚úÖ ‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ú‡πà‡∏≤‡∏ô (passing_score)
- ‚úÖ ‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ (max_attempts)
- ‚úÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ô‡∏µ‡∏¢‡∏ö‡∏±‡∏ï‡∏£

### 5. ‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°
- ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£"
- ‚ö†Ô∏è **‡∏≠‡∏¢‡πà‡∏≤‡∏õ‡∏¥‡∏î Console** - ‡∏Ñ‡∏≠‡∏¢‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°

### 6. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

#### ‡πÉ‡∏ô Browser Console ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô:
```
üîç CLIENT-SIDE DATA COLLECTED:
  course_code: "CRS-2025-0001"
  course_type: "mandatory"
  language: "th"
  learning_objectives: ["...", "...", "..."]
  target_positions: ["1", "2", ...]
  target_departments: ["1", "2", ...]
  lessons: [{title: "...", duration: 60, description: "...", video_url: "https://..."}]
  passing_score: 75
  max_attempts: 3
  max_students: 50
  certificate_validity: "365"
```

#### ‡πÉ‡∏ô Server Terminal ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô:
```
üìù createCourse called
Request body keys: [...]
Full request body: {...}

üîç CRITICAL FIELD CHECK:
  course_code: "CRS-2025-0001"
  course_type: "mandatory"
  language: "th"
  learning_objectives: ["...", "...", "..."]
  target_positions: [...]
  target_departments: [...]
  lessons: [...]
  passing_score: 75
  max_attempts: 3
  max_students: 50
  certificate_validity: "365"
```

### 7. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Database
‡∏´‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Course ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ô:
```bash
node -e "const { poolPromise } = require('./config/database'); (async () => { try { const pool = await poolPromise; const r = await pool.request().query('SELECT TOP 1 * FROM courses ORDER BY created_at DESC'); console.log(r.recordset[0]); } catch(err) { console.error(err.message); } finally { process.exit(0); } })();"
```

‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ü‡∏¥‡∏•‡∏î‡πå:
- ‚úÖ course_code ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤
- ‚úÖ course_type ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤
- ‚úÖ language ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤
- ‚úÖ learning_objectives ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤
- ‚úÖ target_audience ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤
- ‚úÖ passing_score ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤
- ‚úÖ max_attempts ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤
- ‚úÖ certificate_validity ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤
- ‚úÖ max_students ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤

### 8. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
```bash
node -e "const { poolPromise } = require('./config/database'); (async () => { try { const pool = await poolPromise; const r = await pool.request().query('SELECT * FROM course_materials WHERE course_id = 1'); console.log('Materials:', r.recordset.length); r.recordset.forEach(m => console.log(' -', m.title, '|', m.file_path)); } catch(err) { console.error(err.message); } finally { process.exit(0); } })();"
```

‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô:
- ‚úÖ ‡∏°‡∏µ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á
- ‚úÖ ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ö‡∏ó‡∏°‡∏µ file_path (video URL)

### 9. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏´‡∏ô‡πâ‡∏≤ Detail
- ‡πÑ‡∏õ‡∏ó‡∏µ‡πà: http://localhost:3000/courses/1
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô:
  - ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö
  - ‚úÖ ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Ñ‡∏£‡∏ö
  - ‚úÖ ‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á + ‡πÅ‡∏ú‡∏ô‡∏Å)
  - ‚úÖ ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠
  - ‚úÖ ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ú‡πà‡∏≤‡∏ô
  - ‚úÖ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ
  - ‚úÖ ‡πÉ‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ô‡∏µ‡∏¢‡∏ö‡∏±‡∏ï‡∏£

---

## üîç ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï

### ‡∏ñ‡πâ‡∏≤ Client-side logging ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á
- Browser ‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ cache ‡πÄ‡∏Å‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà
- ‡∏ï‡πâ‡∏≠‡∏á Hard Refresh (`Ctrl + Shift + R`)

### ‡∏ñ‡πâ‡∏≤ Server-side logging ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á
- Server ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà restart
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ server ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà

### ‡∏ñ‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô NULL
- ‡∏î‡∏π‡∏ó‡∏µ‡πà Browser Console ‡∏ß‡πà‡∏≤ collectFormData() ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- ‡∏î‡∏π‡∏ó‡∏µ‡πà Server Terminal ‡∏ß‡πà‡∏≤ req.body ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- ‡∏ñ‡πâ‡∏≤ Client ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏î‡πâ‡πÅ‡∏ï‡πà Server ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ‚Üí ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- ‡∏ñ‡πâ‡∏≤ Server ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà Database ‡πÑ‡∏°‡πà‡∏°‡∏µ ‚Üí ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà Course.create()

---

## üìù ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß

### ‚úÖ Backend (models/Course.js)
- Line 224: ‡πÅ‡∏õ‡∏•‡∏á certificate_validity ‡πÄ‡∏õ‡πá‡∏ô String
- Line 256, 260-263: INSERT file_path (video_url) ‡∏•‡∏á course_materials
- Line 94-97: Map file_path ‡πÄ‡∏õ‡πá‡∏ô video_url ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

### ‚úÖ Frontend (public/js/course-wizard.js)
- Line 1033: ‡πÄ‡∏Å‡πá‡∏ö lessonVideoUrls
- Line 1068: ‡πÄ‡∏û‡∏¥‡πà‡∏° video_url ‡∏•‡∏á lesson object
- Line 1089-1090: Map max_enrollments ‚Üí max_students
- Line 1093-1101: Map certificate_validity dropdown ‚Üí days
- Line 859-864: Set default passing_score, max_attempts
- Line 126-146: ‡πÄ‡∏û‡∏¥‡πà‡∏° validation target_positions, target_departments

### ‚úÖ Views (views/courses/detail.ejs)
- Line 765-783: ‡πÅ‡∏™‡∏î‡∏á video link ‡πÅ‡∏•‡∏∞ URL

### ‚úÖ Logging
- courseController.js: ‡πÄ‡∏û‡∏¥‡πà‡∏° detailed logging
- course-wizard.js: ‡πÄ‡∏û‡∏¥‡πà‡∏° client-side logging

---

**‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß!** üöÄ

‡πÉ‡∏´‡πâ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏ï‡πâ‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô:
1. Browser Console (client-side data)
2. Server Terminal (server-side data)
3. Database (stored data)
4. Detail page (displayed data)
